var sdEditorEmoj={emojiconfig:{qq:{name:"QQ表情",path:"emoji/",imgName:["1.gif","2.gif"],alias:["微笑","伤心"],title:["[Smile]","[Grimace]"]}},emojiRealTimeData:[],Init:function(n,e,i){var t=!0,a=($(".faceDivBox"),$(".faceDiv")),f=($("#content"),!1),o=a.find(".emoji-box"),p=n;document.getElementById("content");$(".imgBtn,.closeFaceBox").on("click",function(){g()}),$("#openFace").on("click",function(){g()}),$("body").click(function(n){$(n.target).closest(".bottom,.min-onclick,.icon-biaoqing,.faceDivBox").length||$(".faceDivBox").fadeOut()});var g=function(){var n=$(".faceDivBox");$(".infoBox");if("0"!=$(".infoBoxl").length)var e=$(".infoBoxl");n.css("display");0==t?(e&&e.animate({width:"100%",marginLeft:"145px"},600),n.fadeOut(),t=!0):(e?e.animate({width:"602px",marginLeft:"40px"},600,function(){setTimeout(function(){n.fadeIn()},600)}):n.fadeIn(),t=!1)};if(0==$(".faceDiv span").length){var c=0,s="";for(var b in p){var h=Object.keys(p[b].alias).length-1,r="em"+ ++c+"-";o.append('<section class="for-'+b+'"></section>'),a.find(".emoji-tab").append('<a href="javascript:void(0);" data-target="for-'+b+'">'+p[b].name+"</a>");for(var l=0;l<=h;l++)if(s=(s=p[b].imgName[l]).substring(0,s.length-4),emclass=r+s,void 0!==o.find(".for-"+b)){var m='<a unselectable="on" href="javascript:void(0);" class="embox"><span data-src="'+p[b].path+p[b].imgName[l]+'" class="em '+emclass+'" data-alias="'+(void 0==p[b].alias[l]?"":p[b].alias[l])+'" title="'+(void 0==p[b].title[l]?p[b].empty:p[b].title[l])+'">'+p[b].alias[l]+"</span></a>";o.find(".for-"+b).append(m)}}}$(".contentBox,.faceDiv").click(function(){return!1}),$(".tab-pre").click(function(){if(f)return!1;f=!0;var n=$(".emoji-tab"),e=n.find("a").length,i=-352*parseInt(e/8),t=parseInt(n.css("marginTop"));if(0!=t){var a=t+352+"px";n.animate({marginTop:a},300,function(){f=!1})}else i+="px",n.animate({marginTop:i},300,function(){f=!1});return!1}),$(".tab-next").click(function(){if(f)return!1;f=!0;var n=$(".emoji-tab"),e=n.find("a").length,i=-352*parseInt(e/8),t=parseInt(n.css("marginTop"));if(i<t){var a=t-352+"px";n.animate({marginTop:a},300,function(){f=!1})}else n.animate({marginTop:"0px"},300,function(){f=!1});return!1})},bindClickImg:function(n){var e=$(".faceDiv"),i=$("#content");e.find(".emoji-box section").css("display","none").eq(0).css("display","block"),e.find(".emoji-tab a").eq(0).addClass("active"),e.find(".emoji-box img,.emoji-box .embox").on("click",function(){!function(n,e){var i=document.getElementById(n.id),t=e;if("input"==n.type)if(document.selection){i.focus();var a=document.selection.createRange();a.text=t}else if("number"==typeof i.selectionStart&&"number"==typeof i.selectionEnd){var f=i.selectionStart,o=i.selectionEnd,p=i.value;i.value=p.substring(0,f)+t+p.substring(o,p.length)}else i.value+=t;else if(document.selection){i.focus();var a=document.selection.createRange();a.text=t}else if("number"==typeof i.selectionStart&&"number"==typeof i.selectionEnd){var f=i.selectionStart,o=i.selectionEnd,p=i.innerHTML;i.innerHTML=p.substring(0,f)+t+p.substring(o,p.length)}else i.innerHTML+=t}(n,$(this).find("span").attr("data-alias"))}),e.find(".emoji-tab a").on("click",function(){i.focus(),$(this).parent().parent().prev().find("section").hide(),e.find(".emoji-box ."+$(this).attr("data-target")).show(),e.find(".emoji-tab a").removeClass("active"),this.className+=" active",$(this).parent().parent().parent();var n=e.height(),t="."+$(this).attr("data-target");return n<$(t).height()?e.addClass("isScrolly"):e.removeClass("isScrolly"),!1})},setEmoji:function(n){sdEditorEmoj.bindClickImg(n)}},emojiconfig={emojiaSeries:{name:"表情系列",path:"../emoji/1/",imgName:["bqfh0.png","bqfh1.png","bqfh2.png","bqfh3.png","bqfh4.png","bqfh5.png","bqfh6.png","bqfh7.png","bqfh8.png","bqfh9.png","bqfh10.png","bqfh11.png","bqfh12.png","bqfh13.png","bqfh14.png","bqfh15.png","bqfh16.png","bqfh17.png","bqfh18.png","bqfh19.png","bqfh20.png","bqfh21.png","bqfh22.png","bqfh23.png","bqfh24.png","bqfh25.png","bqfh26.png","bqfh27.png","bqfh28.png","bqfh29.png","bqfh30.png","bqfh31.png","bqfh32.png","bqfh33.png","bqfh34.png","bqfh35.png","bqfh36.png","bqfh37.png","bqfh38.png","bqfh39.png","bqfh40.png","bqfh41.png","bqfh42.png","bqfh43.png","bqfh44.png","bqfh45.png","bqfh46.png","bqfh47.png","bqfh48.png","bqfh49.png","bqfh50.png","bqfh51.png","bqfh52.png","bqfh53.png","bqfh54.png","bqfh55.png","bqfh56.png","bqfh57.png","bqfh73.png","bqfh74.png","bqfh75.png","bqfh76.png","bqfh77.png","bqfh78.png","bqfh79.png","bqfh80.png","bqfh81.png","bqfh82.png","bqfh83.png"],alias:["😄","😃","😀","😊","☺","😉","😍","😘","😚","😗","😙","😜","😝","😛","😳","😁","😔","😌","😒","😞","😣","😢","😂","😭","😪","😥","😰","😅","😓","😩","😫","😨","😱","😠","😡","😤","😖","😆","😋","😷","😎","😴","😵","😲","😟","😦","😧","😈","👿","😮","😬","😐","😕","😯","😶","😇","😏","😑","😺","😸","😻","😽","😼","🙀","😿","😹","😾","👹","👺"],title:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}};